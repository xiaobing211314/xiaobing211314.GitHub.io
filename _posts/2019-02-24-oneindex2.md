---
layout:	post
title: "再谈免费搭建oneindex"
date: 2019-02-24T18:19:24+08:00
tags: oneindex 
categories: IT 
---

> 几个月前用now和heroku免费部署过oneindex，后来now升级了heroku也有限制。等等各种原因吧上面两个都用着不爽（免费的还嫌不爽），经过断断续续四五天的筛选和测试又发现了几个不错的方法。。。层层筛选是真的累呀。以下途径不分先后，只是个人建议。
<!--more-->
   **首先要明白oneindex只是个php的网页应用，大体有两种途径免费部署他：虚拟主机和应用部署平台。你的设置和账号信息都保存在config文件夹内的base.php和token.php里面。**
##   [Free Web Hosting Area](https://www.freewebhostingarea.com/) 
&emsp;这家虚拟主机已经有许多年历史了从2005年提供服务至今，可见还是挺稳定的。特点：免费，无广告，支持二级域名等等。步骤如下。

- 打开[官网](https://www.freewebhostingarea.com/)填入二级域名，填账号密码等等一直下一步。
![Snipaste_2019-02-28_22-07-56.png](https://i.loli.net/2019/02/28/5c77eb4e41a57.jpg) 
- [进入控制面板](https://ramses.freewha.com/cgi-bin/amanager.cgi)，进入文件管理，控制面板里面还有些其他选项自己观察，测试。
![Snipaste_2019-02-28_22-20-47.png](https://i.loli.net/2019/02/28/5c77ee527a1b9.jpg)
- 进去文件管理后点击左上角upload即可上传，当然也可以自己用ftp客户端上传。把oneindex解压到目录即可。大概是下面的那个样子。[oeindex安装包](https://github.com/donwa/oneindex)。
[![Snipaste_2019-02-28_22-30-41.png](https://i.loli.net/2019/02/28/5c77f0a1d1278.jpg)](https://i.loli.net/2019/02/28/5c77f0a1d1278.jpg)
-  这样搞好直接访问自己二级域名，会发现安装面板下面的cache和config目录不可读写（至少我这是这个情况），按照下面的方法解决。连接ftp客户端，右键cache和config，以及init.php。属性把它们设置成可读可写。如果在线设置无法保存，只能用ftp连接修改了。
[![Snipaste_2019-02-28_23-00-56.png](https://i.loli.net/2019/02/28/5c77f7c60f01d.jpg)](https://i.loli.net/2019/02/28/5c77f7c60f01d.jpg)
这样打开部署页面就能部署oneindex了，具体步骤看我之前的部署步骤。或者直接把之前部署好的config目录下的==base.php和token.php==复制进同样目录下就不用重新部署了。[打开我的测试站](http://index.ueuo.com/)我这里打开没问题，但是在学校打不开。。用ping检测一下，国内大多地方打不开。自己看着办吧。
## [heroku](https://heroku.com/)

&emsp;先说明这个的特点，免费未通过信用卡验证用户一个月只能运行550H且不能绑定域名，给你一个二级域名，大约22天。绑定信用卡的是1000H且可以绑定域名。而且30分钟不访问会自动关闭（这个有其他办法解决）。提前说明这个需要在本地提前搭建好设置好在git上heroku。否则直接进入网页内在设置的话是不会保存的，具体原因未知。  

-  全程需科学上网，进入[官网](https://www.heroku.com/)，注册，建议用Gmail，登录进入控制台。下图有两种部署方法，1，用heroku git，自己按照步骤来，控制台页面有方法，2，把你本地搭建好的推送到github让他来部署，ps：可以先在github上fork一份oneindex然后clone到本地，本地搭建完成后上传上去，这里的这个项目不能变成私人的，==必须公开==，所以弊端是别人都可以看到你的源码和设置信息。
[![Snipaste_2019-03-02_16-08-26.png](https://i.loli.net/2019/03/02/5c7a3a8230aac.jpg)](https://i.loli.net/2019/03/02/5c7a3a8230aac.jpg)
-  接下来解决没30分钟不访问，应用休眠问题。破解也简单，网上有好多免费的网站监控。随便找一个监控一下就可以了！比如阿里云的云监控等等，这个自己操作，估计也没人用heroku搭建我也就不仔细说了。[点击](https://mypan.herokuapp.com/)访问我搭建好的例子。
## 其他方法总结一下

&emsp;免费的永远是最贵的，老老实实租虚拟主机把。当然我在放几个我尝试过的免费主机。其实还是有几个是能用的，是我懒得写具体步骤了，大同小异，一看就懂。

- [freehostia](http://www.freehostia.com/)（需要科学上网，不推荐）具体咋样自行百度，[点击访问测速度。。。](http://gpt.design/)
- [极云主机](http://iyunidc.cn/)国产的免费三个月好像可以续，感觉是个人做的平台，感觉很不靠谱，但这个好像是综合来说最简单方便的一个了，[点击访问测试](http://mypan.qqwwer.xyz/)。
- 国内三丰云，这里不推荐了，说是有免费虚拟主机，云服务器，但是挺坑的，虚拟主机一个月之后可以免费续但是推测得给他们推广才行，他的服务器一定不要搞，[点击测试](http://mypan.gq/)
- 好了，上面那几个自己体验到的，这里我找到了一个国外专门收集各种免费空间平台并进行评分排名的网站，具体自己体会，里面排名最高的那个我还没测试，[点击访问](http://www.free-webhosts.com/)，其中评分最高的一个是，[点击](https://byet.host/)。
-  最后，简单总结。没有一个完美方便的，但是每个都能折腾一下，想方便稳定的就付费把。以及国外的一些看起来比较简陋的其实都运行了10几年了，就是在国外可能有墙或者访问慢。关于now平台，升级后也是可以用的，但是我遇到的问题是cache和config权限问题，我不知道如何搞，抽空看看帮助文档。

----
_发一下牢骚，断断续续折腾了几天，自己学到了在国内外的各种免费平台上体会了如何部署php应用，也发现了一些好用平台（有一些静态平台不错，但是不能搞php）以后再也不更新关于oneindex的东西了，浪费时间，直接购美或者放弃。_
